<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:TableSpec.Desktop.ViewModels"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="TableSpec.Desktop.Views.AboutDocumentView"
             x:DataType="vm:AboutDocumentViewModel">

    <Design.DataContext>
        <vm:AboutDocumentViewModel/>
    </Design.DataContext>

    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="15" Margin="20">

            <!-- æ‡‰ç”¨ç¨‹å¼è³‡è¨Šå¡ç‰‡ -->
            <Border Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}"
                    CornerRadius="8" Padding="25">
                <StackPanel Spacing="12" HorizontalAlignment="Center">
                    <!-- æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºèˆ‡åç¨± -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="12">
                        <TextBlock Text="ðŸ—ƒï¸" FontSize="48" VerticalAlignment="Center"/>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="{Binding AppName}" FontSize="28" FontWeight="Bold"/>
                            <TextBlock Text="{Binding AppDescription}" FontSize="14"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- ç‰ˆæœ¬èˆ‡ç‰ˆæ¬Š -->
                    <StackPanel Spacing="4" HorizontalAlignment="Center">
                        <TextBlock Text="{Binding Version, StringFormat='ç‰ˆæœ¬ï¼š{0}'}"
                                   HorizontalAlignment="Center" FontSize="14"/>
                        <TextBlock Text="{Binding Copyright}"
                                   HorizontalAlignment="Center" FontSize="12"
                                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>

                    <!-- æ“ä½œæŒ‰éˆ• -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="15" Margin="0,10,0,0">
                        <Button Command="{Binding OpenGitHubCommand}" Padding="15,8">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ”—" FontSize="14"/>
                                <TextBlock Text="GitHub"/>
                            </StackPanel>
                        </Button>
                        <Button Command="{Binding ToggleLicenseCommand}" Padding="15,8">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ“„" FontSize="14"/>
                                <TextBlock Text="{Binding LicenseButtonText}"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- æŽˆæ¬Šæ¢æ¬¾ï¼ˆå¯å±•é–‹ï¼‰ -->
            <Border Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}"
                    CornerRadius="8" Padding="20"
                    IsVisible="{Binding ShowLicense}">
                <StackPanel Spacing="10">
                    <TextBlock Text="ðŸ“œ MIT License" FontWeight="Bold" FontSize="14"/>
                    <TextBox Text="{Binding LicenseText}"
                             IsReadOnly="True"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             FontFamily="Consolas, Menlo, monospace"
                             FontSize="12"
                             MaxHeight="250"
                             BorderThickness="0"
                             Background="Transparent"/>
                </StackPanel>
            </Border>

            <!-- ç³»çµ±è³‡è¨Šèˆ‡ç›¸ä¾å¥—ä»¶ -->
            <Grid ColumnDefinitions="*,15,*">
                <!-- ç³»çµ±è³‡è¨Š -->
                <Border Grid.Column="0"
                        Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}"
                        CornerRadius="8" Padding="20">
                    <StackPanel Spacing="12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="ðŸ“Š" FontSize="16"/>
                            <TextBlock Text="ç³»çµ±è³‡è¨Š" FontWeight="Bold" FontSize="14"/>
                        </StackPanel>
                        <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto">
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="ä½œæ¥­ç³»çµ±ï¼š" Margin="0,0,15,8"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding OsVersion}" Margin="0,0,0,8"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text=".NET ç‰ˆæœ¬ï¼š" Margin="0,0,15,8"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding DotNetVersion}" Margin="0,0,0,8"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="ç³»çµ±æž¶æ§‹ï¼š" Margin="0,0,15,0"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Architecture}"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- ç›¸ä¾å¥—ä»¶ -->
                <Border Grid.Column="2"
                        Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}"
                        CornerRadius="8" Padding="20">
                    <StackPanel Spacing="12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="ðŸ“¦" FontSize="16"/>
                            <TextBlock Text="ç›¸ä¾å¥—ä»¶" FontWeight="Bold" FontSize="14"/>
                        </StackPanel>
                        <ItemsControl ItemsSource="{Binding Dependencies}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate x:DataType="vm:DependencyInfo">
                                    <Grid ColumnDefinitions="Auto,*" Margin="0,0,0,6">
                                        <TextBlock Grid.Column="0" Text="{Binding Name}" FontWeight="SemiBold"
                                                   Margin="0,0,10,0" MinWidth="160"/>
                                        <TextBlock Grid.Column="1" Text="{Binding Description}"
                                                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                                   TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>
            </Grid>

        </StackPanel>
    </ScrollViewer>
</UserControl>
